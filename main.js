"use strict";(self.webpackChunkbattleship=self.webpackChunkbattleship||[]).push([[179],{893:(e,t,a)=>{const n=()=>{const e=document.getElementById("app"),t=document.createElement("section"),a=document.createElement("div");t.className="start-card",a.className="content-container",(e=>{const t=document.createElement("h1");t.textContent="BATTLESHIP",e.appendChild(t)})(a),(e=>{const t=document.createElement("form");t.className="name-form";const a=document.createElement("input");a.type="text",a.id="name-input",a.className="name-input",a.placeholder="Captains's Name";const n=document.createElement("span");n.className="input-border",t.appendChild(a),t.appendChild(n),e.appendChild(t)})(a),(e=>{const t=document.createElement("button");t.id="play-button",t.className="play-button";const a=document.createElement("span");a.className="text-play-button",a.textContent="ENTER ARENA",t.appendChild(a),e.appendChild(t)})(a),t.appendChild(a),e.appendChild(t)},r=(()=>{const e=(e,t)=>{if("X"===t){const t=document.createElement("div");t.classList="numberx-container",[0,1,2,3,4,5,6,7,8,9].forEach((e=>{const a=document.createElement("div");a.classList="number",a.textContent=e,t.appendChild(a)})),e.appendChild(t)}else if("Y"===t){const t=document.createElement("div");t.classList="numbery-container",[0,1,2,3,4,5,6,7,8,9].forEach((e=>{const a=document.createElement("div");a.classList="number",a.textContent=e,t.appendChild(a)})),e.appendChild(t)}};return{deleteContent:()=>{document.getElementById("app").replaceChildren("")},loadBoard:(t,a)=>{const n=document.createElement("div");n.id=`board-${a}`,n.classList.add("board",a),e(n,"X"),e(n,"Y"),(e=>{const t=document.createElement("field-container");t.className="field-container";for(let e=0;e<10;e+=1)for(let e=0;e<10;e+=1){const e=document.createElement("div");e.className="field",t.appendChild(e)}e.appendChild(t)})(n),t.appendChild(n)}}})(),s=(()=>{const e=(e,t)=>{const a=document.createElement("h2");a.className="board-title",a.textContent=t,e.appendChild(a)};return{loadBoardsSection:()=>{const t=document.getElementById("app"),a=document.createElement("section");a.className="boards-section";const n=document.createElement("div"),s=document.createElement("div");e(n,"FRIENDLY WATERS"),e(s,"ENEMY WATERS"),r.loadBoard(n,"friendly"),r.loadBoard(s,"enemy"),a.appendChild(n),a.appendChild(s),t.appendChild(a)}}})(),c=(e,t)=>{let a=!1,n=0,r=!1;const s=()=>{a=!0};return{length:t,hit:()=>{n+=1,n===t&&s()},getName:()=>e,sunk:s,name:e,getLength:()=>t,getHits:()=>n,sunkStatus:()=>a,found:()=>r,gotFound:()=>{r=!0}}},d=e=>{const t=(()=>{const e=new Array(10).fill("x").map((()=>new Array(10).fill("x"))),t=[],a=[],n=e=>a.filter((t=>t.getName()===e))[0],r=e=>{switch(e.getName()){case"carrier":a.push(c("carrier",5));break;case"battleship":a.push(c("battleship",4));break;case"cruiser":a.push(c("cruiser",3));break;case"submarine":a.push(c("submarine",3));break;default:a.push(c("destroyer",2))}};return{board:e,placeShip:(t,a,n,s)=>{let c=t.getLength();const d=[];if(!0===s){for(let t=n;t<e.length;t++){if("x"!==e[a][t])return!1;if(d.push([a,t]),c-=1,0===c)break}d.forEach((a=>{const[n,r]=a;e[n][r]=`${t.getName()}X`})),r(t)}if(!1===s){for(let t=a;t<e.length;t++){if("x"!==e[t][n])return!1;if(d.push([t,n]),c-=1,0===c)break}d.forEach((a=>{const[n,r]=a;e[n][r]=`${t.getName()}Y`})),r(t)}},receiveAttack:(a,r)=>{((a,r)=>{switch(e[a][r]){case"carrierX":case"carrierY":n("carrier").hit();break;case"battleshipX":case"battleshipY":n("battleship").hit();break;case"cruiserX":case"cruiserY":n("cruiser").hit();break;case"submarineX":case"submarineY":n("submarine").hit();break;case"destroyerX":case"destroyerY":n("destroyer").hit();break;default:e[a][r]="miss",t.push([a,r])}})(a,r)},getShip:n,missedTarget:t,allSunk:()=>5===a.filter((e=>!0===e.sunkStatus())).length}})();let a=0,n=e;const r=()=>n,s=(e,a)=>"x"===t.board[e][a],d=()=>Math.floor(10*Math.random());return{play:(e,n)=>{"cpu"!==r().toLowerCase()?s(e,n)&&(t.receiveAttack(e,n),a+=1):(()=>{let e=!0;for(;e;){const n=d(),r=d();s(n,r)&&(e=!1,t.receiveAttack(n,r),a+=1)}})()},getTurn:()=>a,getName:r,setName:e=>{n=e},board:t}},i=(()=>{const e=e=>{const t=d(e),a=d("cpu");t.board.placeShip(c("carrier",5),0,0,!0),a.board.placeShip(c("carrier",5),0,0,!1)},t=()=>e(),a=()=>t;return{initializeGame:e,state:t,getState:a,setPlayerName:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Captain";return a().getPlayer().setName(e)}}})(),o=a.p+"img/Battleship760c9f3bc4ab40b1b74e.svg",l=a.p+"img/Carrier72d6f7560d865eeed3bb.svg",p=a.p+"img/Cruiser390b447eb179df065dab.svg",m=a.p+"img/Destroyer90deea9d8b35a7e34f19.svg",u=a.p+"img/Submarine64bc48ca397dd3949db7.svg",h={loadSetup:()=>{r.deleteContent(),(()=>{const e=document.getElementById("app");e.classList.add("setup");const t=document.createElement("div");t.id="setup-container",t.className="setup-container",r.loadBoard(t,"setup"),(e=>{const t=document.createElement("section");t.id="fleet-setup",t.className="fleet-setup",["batttleship","carrier","cruiser","destroyer","submarine"].forEach((e=>{const a=(e=>{const t=document.createElement("button"),a=document.createElement("img"),n=document.createElement("p");switch(t.classList.add("ship-card",e),a.className="ship-image",n.className="ship-name",e){case"battleship":a.src=o,n.textContent="Battleship";break;case"carrier":a.src=l,n.textContent="Carrier";break;case"cruiser":a.src=p,n.textContent="Cruiser";break;case"destroyer":a.src=m,n.textContent="Destroyer";break;case"submarine":a.src=u,n.textContent="Submarine"}return t.appendChild(a),t.appendChild(n),t})(e);t.appendChild(a)})),e.appendChild(t)})(t),e.appendChild(t)})()}},b=h;(()=>{i.initializeGame();const e=()=>{r.deleteContent(),s.loadBoardsSection(),b.loadSetup()};return{loadContent:()=>{n(),document.getElementById("play-button").addEventListener("click",e)}}})().loadContent()}},e=>{e(e.s=893)}]);